<div class="container mt-4">
  <h3 class="mb-4">Step 3: Review and Pay</h3>

  <div *ngIf="studentID; else noData">
    <h4>Student ID: {{ studentID }}</h4>
  </div>
  <ng-template #noData>
    <p style="color: red;">âš  No Student ID found. Please complete Step 1 first.</p>
  </ng-template>
    <p class="text-muted mb-3" *ngIf="admissionDetails.length > 0">
  Please review your details and proceed with the admission fee payment.
</p>
  <table class="table table-bordered mt-3" *ngIf="admissionDetails.length > 0">
  <thead class="table-dark">
    <tr>
      <th>Admission Id</th>
      <th>Name</th>
      <th>Email</th>
      <th>Phone Number</th>
      <th>Course Name</th>
      <th>Course Fee</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let admission of admissionDetails">
      <td>{{ admission.admissionId }}</td>
      <td>{{ admission.fullName }}</td>
      <td>{{ admission.email }}</td>
      <td>{{ admission.phoneNumber }}</td>
      <td>{{ admission.courseName }}</td>
      <td>{{ admission.courseFee }}</td>
    </tr>
  </tbody>
</table>

<!-- Show message if no data -->
<p class="text-center text-danger" *ngIf="admissionDetails.length === 0">
  No admission details found
</p>

<div class="text-center" *ngIf="admissionDetails.length > 0">
  <button class="btn btn-primary btn-lg" (click)="payNow()">
    <i class="fa fa-credit-card"></i> Pay Now
  </button>
</div>
  
  <!-- Status Alerts -->
  <div *ngIf="!paymentStatus && paymentMessage" class="alert alert-info mt-4">
    {{ paymentMessage }}
  </div>

  <div *ngIf="paymentStatus === 'success'" class="alert alert-success mt-4">
    {{ paymentMessage || 'Payment successful and saved in DB!' }}
  </div>

  <div *ngIf="paymentStatus === 'failed'" class="alert alert-danger mt-4">
    {{ paymentMessage || 'Payment failed. Please try again.' }}
  </div>
</div>
